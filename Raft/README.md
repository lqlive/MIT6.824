# MIT 6.824 Lab 2: Raft å…±è¯†ç®—æ³•

## ğŸ“– å®éªŒä»‹ç»

è¿™æ˜¯MIT 6.824åˆ†å¸ƒå¼ç³»ç»Ÿè¯¾ç¨‹çš„ç¬¬äºŒä¸ªå®éªŒï¼Œå®ç°Raftå…±è¯†ç®—æ³•ã€‚Raftæ˜¯ä¸€ä¸ªç”¨äºç®¡ç†å¤åˆ¶æ—¥å¿—çš„å…±è¯†ç®—æ³•ï¼Œå®ƒæ¯”Paxosæ›´å®¹æ˜“ç†è§£å’Œå®ç°ã€‚

## ğŸ¯ å®éªŒç›®æ ‡

å®ç°ä¸€ä¸ªå®Œæ•´çš„Raftç®—æ³•ï¼ŒåŒ…æ‹¬ï¼š

### Part 2A: Leaderé€‰ä¸¾
- å®ç°Raft leaderé€‰ä¸¾
- å®ç°å¿ƒè·³æœºåˆ¶ï¼ˆä¸å¸¦æ—¥å¿—æ¡ç›®çš„AppendEntries RPCï¼‰

### Part 2B: æ—¥å¿—å¤åˆ¶
- å®ç°leaderå’Œfollowerçš„æ—¥å¿—å¤åˆ¶åŠŸèƒ½
- å¤„ç†æ—¥å¿—ä¸ä¸€è‡´çš„æƒ…å†µ

### Part 2C: æŒä¹…åŒ–
- å®ç°çŠ¶æ€æŒä¹…åŒ–
- ç¡®ä¿é‡å¯åèƒ½æ­£ç¡®æ¢å¤çŠ¶æ€

### Part 2D: æ—¥å¿—å‹ç¼©ï¼ˆå¯é€‰ï¼‰
- å®ç°å¿«ç…§æœºåˆ¶
- å‡å°‘æ—¥å¿—å­˜å‚¨ç©ºé—´

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
Raft/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ Raft.Common/           # å…¬å…±ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Models/            # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ Interfaces/        # æ¥å£å®šä¹‰
â”‚   â”‚   â””â”€â”€ Utilities/         # å·¥å…·ç±»
â”‚   â”œâ”€â”€ Raft.Server/           # RaftæœåŠ¡å™¨å®ç°
â”‚   â”œâ”€â”€ Raft.Client/           # å®¢æˆ·ç«¯å®ç°
â”‚   â””â”€â”€ Raft.Tests/            # å•å…ƒæµ‹è¯•
â”œâ”€â”€ docs/                      # æ–‡æ¡£
â””â”€â”€ Raft.sln                   # è§£å†³æ–¹æ¡ˆæ–‡ä»¶
```

## ğŸ”‘ æ ¸å¿ƒæ¦‚å¿µ

### RaftçŠ¶æ€
- **Leader**: å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚ï¼Œç®¡ç†æ—¥å¿—å¤åˆ¶
- **Follower**: è¢«åŠ¨æ¥æ”¶leaderçš„æŒ‡ä»¤
- **Candidate**: å‚ä¸leaderé€‰ä¸¾

### å…³é”®ç»„ä»¶
- **é€‰ä¸¾å®šæ—¶å™¨**: è§¦å‘leaderé€‰ä¸¾
- **å¿ƒè·³æœºåˆ¶**: ç»´æŒleaderæƒå¨æ€§
- **æ—¥å¿—å¤åˆ¶**: ç¡®ä¿é›†ç¾¤çŠ¶æ€ä¸€è‡´æ€§
- **çŠ¶æ€æŒä¹…åŒ–**: ä¿è¯æ•…éšœæ¢å¤

## ğŸš€ å¼€å‘è®¡åˆ’

1. **é˜¶æ®µä¸€**: æ­å»ºåŸºç¡€æ¡†æ¶å’Œæ•°æ®ç»“æ„
2. **é˜¶æ®µäºŒ**: å®ç°leaderé€‰ä¸¾æœºåˆ¶
3. **é˜¶æ®µä¸‰**: å®ç°æ—¥å¿—å¤åˆ¶åŠŸèƒ½
4. **é˜¶æ®µå››**: æ·»åŠ æŒä¹…åŒ–æ”¯æŒ
5. **é˜¶æ®µäº”**: æ€§èƒ½ä¼˜åŒ–å’Œæµ‹è¯•

## ğŸ“š å‚è€ƒèµ„æ–™

- [Raftè®ºæ–‡](https://raft.github.io/raft.pdf)
- [Raftå¯è§†åŒ–](http://thesecretlivesofdata.com/raft/)
- [MIT 6.824 Course Website](https://pdos.csail.mit.edu/6.824/)

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **è¯­è¨€**: C# 12.0
- **æ¡†æ¶**: .NET 8.0
- **é€šä¿¡**: HTTP/gRPC
- **åºåˆ—åŒ–**: System.Text.Json
- **æµ‹è¯•**: xUnit
- **æŒä¹…åŒ–**: File System / SQLite 